CREATE TABLE public.articles
(
    "article_id" SERIAL,
    title text COLLATE pg_catalog."default" NOT NULL,
    article text COLLATE pg_catalog."default" NOT NULL,
    employeeid integer NOT NULL,
    createdon date NOT NULL,
    CONSTRAINT articles_pkey PRIMARY KEY ("article_id"),
    CONSTRAINT "articles_employeeId_fkey" FOREIGN KEY (employeeid)
        REFERENCES employees (id) MATCH SIMPLE
        ON UPDATE CASCADE
        ON DELETE RESTRICT
        NOT VALID
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER TABLE public.articles
    OWNER to young;



CREATE TABLE public.gif_comments
(
    "gif_comment_id" SERIAL,
    comments text COLLATE pg_catalog."default" NOT NULL,
    "gif_id" integer NOT NULL,    
    "author_id" integer NOT NULL,
    "created_on" timestamp with time zone NOT NULL,
    CONSTRAINT "article_comment_id" PRIMARY KEY ("article_comment_id"),
    CONSTRAINT "gif_id" FOREIGN KEY ("gif_id")
        REFERENCES public.gifs ("gif_id") MATCH SIMPLE
        ON UPDATE CASCADE
        ON DELETE RESTRICT
        NOT VALID,
    CONSTRAINT "author_id" FOREIGN KEY ("author_id")
        REFERENCES employees (id) MATCH SIMPLE
        ON UPDATE CASCADE
        ON DELETE RESTRICT
        NOT VALID
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER TABLE public.comments
    OWNER to young;


CREATE TABLE public.article_comments
(
    "article_comment_id" SERIAL,
    comments text COLLATE pg_catalog."default" NOT NULL,
    "article_id" integer NOT NULL,    
    "author_id" integer NOT NULL,
    "created_on" timestamp with time zone NOT NULL,
    CONSTRAINT "article_comment_id" PRIMARY KEY ("article_comment_id"),
    CONSTRAINT "article_id" FOREIGN KEY ("article_id")
        REFERENCES public.articles ("article_id") MATCH SIMPLE
        ON UPDATE CASCADE
        ON DELETE RESTRICT
        NOT VALID,
    CONSTRAINT "author_id" FOREIGN KEY ("author_id")
        REFERENCES employees (id) MATCH SIMPLE
        ON UPDATE CASCADE
        ON DELETE RESTRICT
        NOT VALID
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER TABLE public.comments
    OWNER to young;






CREATE TABLE employees
(
    address text COLLATE pg_catalog."default" NOT NULL,
    department text COLLATE pg_catalog."default" NOT NULL,
    email text COLLATE pg_catalog."default" NOT NULL,
    firstname text COLLATE pg_catalog."default" NOT NULL,
    gender text COLLATE pg_catalog."default" NOT NULL,
    id SERIAL,
    jobrole text COLLATE pg_catalog."default" NOT NULL,
    lastname text COLLATE pg_catalog."default" NOT NULL,
    password text COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT employees_pkey PRIMARY KEY (id),
    CONSTRAINT "employeeid" UNIQUE (id)

)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER TABLE employees
    OWNER to young;






CREATE TABLE public.gifs
(
    "gif_id" SERIAL,
    title text COLLATE pg_catalog."default" NOT NULL,
    "imageUrl" text COLLATE pg_catalog."default" NOT NULL,
    "employeeid" integer NOT NULL,
    "created_on" timestamp with time zone NOT NULL,
    CONSTRAINT "gif_id" PRIMARY KEY ("gif_id"),
    CONSTRAINT "employeeid" FOREIGN KEY ("employeeid")
        REFERENCES employees (id) MATCH SIMPLE
        ON UPDATE CASCADE
        ON DELETE RESTRICT
        NOT VALID
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER TABLE public.gifs
    OWNER to young;



CREATE TABLE public.admin
(
    id SERIAL,
    username text COLLATE pg_catalog."default" NOT NULL,
    password text COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT id PRIMARY KEY (id)
)
WITH (
    OIDS = FALSE
)
TABLESPACE pg_default;

ALTER TABLE public.admin
    OWNER to young;

